/* CMSIS-DAP Interface Firmware
 * Copyright (c) 2009-2013 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

const uint32_t KL25Z_FLM[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x4604b570, 0x4616460d, 0x49372000, 0x48376008, 0xf0004448, 0x2800f8b3, 0x2001d001, 0x2000bd70, 
    0xb570e7fc, 0x4a304603, 0x20003aac, 0xe0062103, 0x4e2f008d, 0x6814444e, 0x1d125174, 0x29001e49, 
    0x482bdaf6, 0xbd704448, 0x4828b510, 0xf0004448, 0x4604f887, 0xd1052c00, 0x48242100, 0xf0004448, 
    0x4604f949, 0xf837f000, 0xbd104620, 0x4604b570, 0x4448481e, 0x68c24621, 0xf83ef000, 0x2d004605, 
    0x481ad107, 0x23004448, 0x68c24621, 0xf8e4f000, 0xf0004605, 0x4628f820, 0xb5febd70, 0x460c4605, 
    0x46234616, 0x46294632, 0x44484810, 0xf8a0f000, 0x2f004607, 0x2201d10b, 0x46339001, 0x90029200, 
    0x46294622, 0x44484809, 0xf926f000, 0xf0004607, 0x4638f802, 0x4807bdfe, 0x210168c0, 0x43880289, 
    0x49041840, 0x477060c8, 0x40048100, 0x00000014, 0x00000004, 0xf0003000, 0xb082b5f7, 0x4617460c, 
    0x4621463a, 0xf0009802, 0x4606f854, 0xd0022e00, 0xb0054630, 0x19e0bdf0, 0x05a81e45, 0xd0050d80, 
    0x1c400aa8, 0x98019001, 0x1e450280, 0x480ae00f, 0x68004478, 0x20096004, 0x71c84908, 0xf92ef000, 
    0x2e004606, 0xe004d000, 0x02802001, 0x42ac1824, 0xbf00d9ed, 0xe7dc4630, 0x00000424, 0x40020000, 
    0x4604b510, 0xd1012c00, 0xbd102004, 0x49022044, 0xf00071c8, 0xe7f8f913, 0x40020000, 0x29004601, 
    0x2004d101, 0x48184770, 0x010068c0, 0x00400f00, 0x447b4b16, 0x03025a18, 0xd1012a00, 0xe7f12064, 
    0x60082000, 0x2001604a, 0x02806088, 0x200060c8, 0xb510e7e8, 0x2b004603, 0x2004d101, 0x0788bd10, 
    0xd1020f80, 0x0f800790, 0x2065d001, 0x6818e7f6, 0xd8054288, 0x6818685c, 0x188c1900, 0xd20142a0, 
    0xe7eb2066, 0xe7e92000, 0x40048040, 0x000003a0, 0xb081b5ff, 0x4614460f, 0x2c00461d, 0x2004d102, 
    0xbdf0b005, 0x4639462a, 0xf7ff9801, 0x4606ffd2, 0xd0012e00, 0xe7f34630, 0x480de014, 0x68004478, 
    0xcc016007, 0x4479490a, 0x6809390a, 0x20066048, 0x71c84908, 0xf8b2f000, 0x2e004606, 0xe003d000, 
    0x1f2d1d3f, 0xd1e82d00, 0x4630bf00, 0x0000e7d8, 0x00000338, 0x40020000, 0xb083b5ff, 0x4621460c, 
    0x98039a05, 0xffa5f7ff, 0x98029002, 0xd0022800, 0xb0079802, 0x9a03bdf0, 0x68506891, 0xf8aef000, 
    0x42614605, 0x40014268, 0x42a6424e, 0x1976d100, 0xe0279f05, 0x90011b30, 0x42b89801, 0x9701d900, 
    0x08809801, 0x48119000, 0x68004478, 0x20016004, 0x71c8490f, 0x04009800, 0x480d0e01, 0x490c72c1, 
    0x72889800, 0x72489806, 0xf868f000, 0x98029002, 0xd0012800, 0xe7cc9802, 0x1a3f9801, 0x18249801, 
    0xbf001976, 0xd1d52f00, 0xe7c22000, 0x000002ac, 0x40020000, 0x4604b570, 0x2c00460d, 0x2004d101, 
    0x2040bd70, 0x71c84903, 0x71854608, 0xf846f000, 0x0000e7f6, 0x40020000, 0xb081b5ff, 0x4617460c, 
    0x2d00461d, 0x2004d102, 0xbdf0b005, 0x4621463a, 0xf7ff9801, 0x4606ff3e, 0xd0012e00, 0xe7f34630, 
    0x4814e022, 0x68004478, 0x20026004, 0x71c84912, 0x72c8980a, 0x4479490f, 0x68283912, 0x60886809, 
    0xf81cf000, 0x2e004606, 0x980bd00b, 0xd0012800, 0x6004980b, 0x2800980c, 0x2100d002, 0x6001980c, 
    0x1f3fe004, 0x1d241d2d, 0xd1da2f00, 0x4630bf00, 0x0000e7ca, 0x00000210, 0x40020000, 0x4a0e2070, 
    0x20807010, 0xbf007010, 0x7800480b, 0xd0fb09c0, 0x78014809, 0x42012020, 0x2067d001, 0x20104770, 
    0xd0014201, 0xe7f92068, 0x0fc007c8, 0x2069d001, 0x2000e7f4, 0x0000e7f2, 0x40020000, 0x09032200, 
    0xd32c428b, 0x428b0a03, 0x2300d311, 0xe04e469c, 0x430b4603, 0x2200d43c, 0x428b0843, 0x0903d331, 
    0xd31c428b, 0x428b0a03, 0x4694d301, 0x09c3e03f, 0xd301428b, 0x1ac001cb, 0x09834152, 0xd301428b, 
    0x1ac0018b, 0x09434152, 0xd301428b, 0x1ac0014b, 0x09034152, 0xd301428b, 0x1ac0010b, 0x08c34152, 
    0xd301428b, 0x1ac000cb, 0x08834152, 0xd301428b, 0x1ac0008b, 0x08434152, 0xd301428b, 0x1ac0004b, 
    0x1a414152, 0x4601d200, 0x46104152, 0xe05d4770, 0xd0000fca, 0x10034249, 0x4240d300, 0x22004053, 
    0x0903469c, 0xd32d428b, 0x428b0a03, 0x22fcd312, 0xba120189, 0x428b0a03, 0x0189d30c, 0x428b1192, 
    0x0189d308, 0x428b1192, 0x0189d304, 0x1192d03a, 0x0989e000, 0x428b09c3, 0x01cbd301, 0x41521ac0, 
    0x428b0983, 0x018bd301, 0x41521ac0, 0x428b0943, 0x014bd301, 0x41521ac0, 0x428b0903, 0x010bd301, 
    0x41521ac0, 0x428b08c3, 0x00cbd301, 0x41521ac0, 0x428b0883, 0x008bd301, 0x41521ac0, 0x0843d2d9, 
    0xd301428b, 0x1ac0004b, 0x1a414152, 0x4601d200, 0x41524663, 0x4610105b, 0x4240d301, 0xd5002b00, 
    0x47704249, 0x105b4663, 0x4240d300, 0x2000b501, 0x46c046c0, 0x0002bd02, 0x00000004, 0x00000008, 
    0x00000010, 0x00000020, 0x00000040, 0x00000000, 0x00000000, 0x00000020, 0x40020004, 0x00000000, 
    
};

static const TARGET_FLASH flash = {
    0x20000021, // Init
    0x20000043, // UnInit
    0x20000069, // EraseChip
    0x2000008D, // EraseSector
    0x200000BB, // ProgramPage
    // breakpoint = RAM start + 1
    // RSB : base address is address of Execution Region PrgData in map file
    //       to access global/static data
    // RSP : Initial stack pointer
    {
        0x20000001, // breakpoint instruction address
        0x20000000 + 0x20 + 0x55C,  // static base register value (image start + header + static base offset)
        0x20001000 // initial stack pointer
    },

    0x20001100, // flash_buffer, any valid RAM location with > 512 bytes of working room and proper alignment
    0x20000000, // algo_start, start of RAM
    sizeof(KL25Z_FLM), // algo_size, size of array above
    KL25Z_FLM,  // image, flash algo instruction array
    512         // ram_to_flash_bytes_to_be_written
};




